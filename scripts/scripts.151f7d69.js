"use strict";angular.module("cattimerApp",["hmTouchEvents","catTimer"]),angular.module("catTimer",["timeDisplay"]).directive("catTimer",[function(){return{transclude:!0,restrict:"E",template:"<div ng-transclude></div>",scope:{},controller:[function(){}],controllerAs:"ctc",link:function(a,b,c,d,e){d.duration=moment.duration(24,"hours"),setInterval(function(){d.duration=d.duration.subtract(1,"second"),m(),a.$apply()},1e3);var f={r:0,g:0,b:0},g={r:255,g:0,b:0},h={r:153,g:153,b:153},i={r:255,g:255,b:255},j=f,k=h,l=function(a){return"rgb("+a.r+","+a.g+","+a.b+")"},m=function(){j=d.duration.asHours()<1?g:f,k=d.duration.asHours()<1?i:h,b.css("background",l(j)),b.css("color",l(k))};a.resetTimer=function(){d.duration=moment.duration(24,"hours")},window.setTime=function(a){d.duration=moment.duration(a)};var n=new Hammer(b[0]);n.on("tap press",function(b){a.resetTimer()})}}}]),angular.module("timeDisplay",[]).directive("timeDisplay",[function(){return{restrict:"E",scope:{duration:"="},bindToController:{duration:"="},controller:["$scope","$attrs",function(a,b){}],controllerAs:"tda",templateUrl:"scripts/components/timeDisplay/time-display.html",link:function(a,b,c,d){a.$watch(function(a){return a.duration.valueOf()},function(b,c){var d=Math.abs(a.duration.minutes());10>d&&(d="0"+d);var e=Math.abs(a.duration.seconds());10>e&&(e="0"+e);var f=a.duration.hours();a.display=f+":"+d+"."+e})}}}]),angular.module("cattimerApp").run(["$templateCache",function(a){a.put("scripts/components/timeDisplay/time-display.html",'<div class="time-display">{{display}}</div>')}]);